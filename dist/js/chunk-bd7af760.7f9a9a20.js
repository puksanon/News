(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-bd7af760"],{3803:function(t,e,a){"use strict";var n=a("d72b"),s=a.n(n);s.a},a791:function(t,e,a){"use strict";a.r(e);var n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"sign_in"},[a("SlideBar"),a("div",{staticClass:"signin_content"},[a("div",{staticClass:"container-login100"},[a("div",{staticClass:"wrap-login100"},[t._m(0),a("form",{staticClass:"login100-form validate-form"},[t._m(1),a("div",{staticClass:"wrap-input100 validate-input"},[a("v-text-field",{directives:[{name:"validate",rawName:"v-validate",value:"required|max:30",expression:"'required|max:30'"}],staticClass:"input100",attrs:{counter:30,"error-messages":t.errors.collect("username"),label:"email",type:"email","data-vv-name":"username",required:""},model:{value:t.username,callback:function(e){t.username=e},expression:"username"}}),a("span",{staticClass:"focus-input100"}),t._m(2)],1),a("div",{staticClass:"wrap-input100 validate-input"},[a("v-text-field",{directives:[{name:"validate",rawName:"v-validate",value:"required",expression:"'required'"}],staticClass:"input100",attrs:{"append-icon":t.show1?"visibility":"visibility_off",type:t.show1?"text":"password","error-messages":t.errors.collect("password"),label:"password","data-vv-name":"password",required:""},on:{keyup:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.sign_in(e)},"click:append":function(e){t.show1=!t.show1}},model:{value:t.password,callback:function(e){t.password=e},expression:"password"}}),a("span",{staticClass:"focus-input100"}),t._m(3)],1),a("div",{staticClass:"container-login100-form-btn"},[a("div",{staticClass:"row"},[a("v-btn",{staticClass:"mr-4 btn login100-form-btn",on:{keyup:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.sign_in(e)},click:function(e){return t.sign_in()}}},[t._v("Sign in")]),a("v-btn",{staticClass:"btn login100-form-btn",on:{click:t.clear}},[t._v("clear")])],1)])])])])])],1)},s=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"login100-pic js-tilt",staticStyle:{"will-change":"transform",transform:"perspective(300px) rotateX(0deg) rotateY(0deg)"},attrs:{"data-tilt":""}},[a("img",{attrs:{src:"/static/img/kmutt_logo.7986861.png",alt:"IMG"}})])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("span",{staticClass:"login100-form-title"},[a("h1",[t._v("Student Login")]),a("hr"),a("p",[t._v("ONLINE THESIS COLLECTION SYSTEM")])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("span",{staticClass:"symbol-input100"},[a("i",{staticClass:"fa fa-envelope",attrs:{"aria-hidden":"true"}})])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("span",{staticClass:"symbol-input100"},[a("i",{staticClass:"fa fa-lock",attrs:{"aria-hidden":"true"}})])}],r=(a("a15b"),a("d81d"),a("b64b"),a("d3b7"),a("96cf"),a("dd58")),i=function(){return a.e("chunk-912ad7d4").then(a.bind(null,"fae2"))},o={$_veeValidate:{validator:"new"},name:"signin",components:{SlideBar:i},data:function(){return{valid:!0,show1:!1,username:"",password:"",dictionary:{attributes:{password:"input password"},custom:{username:{required:function(){return"Name can not be empty"},max:"The name field may not be greater than 30 characters"},password:{required:function(){return"Password can not be empty"}}}}}},created:function(){var t,e=this;return regeneratorRuntime.async((function(a){while(1)switch(a.prev=a.next){case 0:if(t=window.localStorage.getItem("tsic_std_token"),!t){a.next=12;break}return a.prev=2,a.next=5,regeneratorRuntime.awrap(this.axios.request({method:"get",url:"http://localhost:5000/users/verify",headers:Object(r["a"])()}).then((function(t){t.data.success?e.$router.push("/student_profile"):localStorage.removeItem("tsic_std_token")})));case 5:a.sent,a.next=12;break;case 8:a.prev=8,a.t0=a["catch"](2),console.log(a.t0),localStorage.removeItem("tsic_std_token");case 12:case"end":return a.stop()}}),null,this,[[2,8]])},mounted:function(){this.$validator.localize("en",this.dictionary)},methods:{sign_in:function(){var t,e,a=this;return regeneratorRuntime.async((function(n){while(1)switch(n.prev=n.next){case 0:if(this.username&&this.password||(this.valid=!1),this.username>30&&(this.valid=!1),this.valid){n.next=6;break}this.$validator.validateAll(),n.next=17;break;case 6:return t={email:this.username,password:this.password},e=function(t){return Object.keys(t).map((function(e){return encodeURIComponent(e)+"="+encodeURIComponent(t[e])})).join("&")},n.prev=8,n.next=11,regeneratorRuntime.awrap(this.axios.post("http://localhost:5000/users/signin",e(t),{headers:{"Content-type":"application/x-www-form-urlencoded"}}).then((function(t){t.data.success?(localStorage.setItem("tsic_std_token",t.data.data.token),a.$router.push("/student_profile")):(window.alert(t.data.message),a.password="")})).catch((function(t){console.error(t)})));case 11:return n.abrupt("return",n.sent);case 14:n.prev=14,n.t0=n["catch"](8),console.error(n.t0);case 17:this.valid=!0;case 18:case"end":return n.stop()}}),null,this,[[8,14]])},clear:function(){this.username="",this.password="",this.$validator.reset()}}},c=o,l=(a("3803"),a("2877")),u=a("6544"),d=a.n(u),p=a("8336"),m=a("8654"),f=Object(l["a"])(c,n,s,!1,null,"101e0ffb",null);e["default"]=f.exports;d()(f,{VBtn:p["a"],VTextField:m["a"]})},d72b:function(t,e,a){},dd58:function(t,e,a){"use strict";function n(){var t=window.localStorage.getItem("tsic_std_token");return t?{Authorization:"Bearer "+t,"Content-type":"application/x-www-form-urlencoded"}:{}}a.d(e,"a",(function(){return n}))}}]);
//# sourceMappingURL=chunk-bd7af760.7f9a9a20.js.map