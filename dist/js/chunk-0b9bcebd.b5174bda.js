(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-0b9bcebd"],{"473e":function(e,t,a){"use strict";function n(){var e=window.localStorage.getItem("tsic_token");return e?{Authorization:"Bearer "+e,"Content-type":"application/x-www-form-urlencoded"}:{}}a.d(t,"a",(function(){return n}))},"61b7":function(e,t,a){},"8ef6":function(e,t,a){"use strict";var n=a("61b7"),s=a.n(n);s.a},d47b:function(e,t,a){"use strict";a.r(t);var n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"sign_in"},[a("SlideBar"),a("div",{staticClass:"signin_content"},[a("div",{staticClass:"container-login100"},[a("div",{staticClass:"wrap-login100"},[e._m(0),a("form",{staticClass:"login100-form validate-form"},[e._m(1),a("div",{staticClass:"wrap-input100 validate-input"},[a("v-text-field",{directives:[{name:"validate",rawName:"v-validate",value:"required|max:20",expression:"'required|max:20'"}],staticClass:"input100",attrs:{counter:20,"error-messages":e.errors.collect("username"),label:"username","data-vv-name":"username",required:""},model:{value:e.username,callback:function(t){e.username=t},expression:"username"}}),a("span",{staticClass:"focus-input100"}),e._m(2)],1),a("div",{staticClass:"wrap-input100 validate-input"},[a("v-text-field",{directives:[{name:"validate",rawName:"v-validate",value:"required",expression:"'required'"}],staticClass:"input100",attrs:{"append-icon":e.show1?"visibility":"visibility_off",type:e.show1?"text":"password","error-messages":e.errors.collect("password"),label:"password","data-vv-name":"password",required:""},on:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.sign_in(t)},"click:append":function(t){e.show1=!e.show1}},model:{value:e.password,callback:function(t){e.password=t},expression:"password"}}),a("span",{staticClass:"focus-input100"}),e._m(3)],1),a("div",{staticClass:"container-login100-form-btn"},[a("div",{staticClass:"row"},[a("v-btn",{staticClass:"mr-4 btn login100-form-btn",on:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.sign_in(t)},click:function(t){return e.sign_in()}}},[e._v("Sign in")]),a("v-btn",{staticClass:"btn login100-form-btn",on:{click:e.clear}},[e._v("clear")])],1)])])])])])],1)},s=[function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"login100-pic js-tilt",staticStyle:{"will-change":"transform",transform:"perspective(300px) rotateX(0deg) rotateY(0deg)"},attrs:{"data-tilt":""}},[a("img",{attrs:{src:"/static/img/kmutt_logo.7986861.png",alt:"IMG"}})])},function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("span",{staticClass:"login100-form-title"},[a("h1",[e._v("Staff Login")]),a("hr"),a("p",[e._v("ONLINE THESIS COLLECTION SYSTEM")])])},function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("span",{staticClass:"symbol-input100"},[a("i",{staticClass:"fa fa-envelope",attrs:{"aria-hidden":"true"}})])},function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("span",{staticClass:"symbol-input100"},[a("i",{staticClass:"fa fa-lock",attrs:{"aria-hidden":"true"}})])}],r=(a("a15b"),a("d81d"),a("b64b"),a("d3b7"),a("96cf"),a("473e")),i=function(){return a.e("chunk-912ad7d4").then(a.bind(null,"fae2"))},o={$_veeValidate:{validator:"new"},name:"signin",components:{SlideBar:i},data:function(){return{show1:!1,username:"",password:"",dictionary:{attributes:{password:"input password"},custom:{username:{required:function(){return"Name can not be empty"},max:"The name field may not be greater than 30 characters"}}}}},created:function(){var e,t=this;return regeneratorRuntime.async((function(a){while(1)switch(a.prev=a.next){case 0:if(e=window.localStorage.getItem("tsic_token"),!e){a.next=12;break}return a.prev=2,a.next=5,regeneratorRuntime.awrap(this.axios.request({method:"get",url:"http://localhost:5000/staffs/verify",headers:Object(r["a"])()}).then((function(e){e.data.success?t.$router.push("/profile"):localStorage.removeItem("tsic_token")})));case 5:a.sent,a.next=12;break;case 8:a.prev=8,a.t0=a["catch"](2),console.log(a.t0),localStorage.removeItem("tsic_token");case 12:case"end":return a.stop()}}),null,this,[[2,8]])},mounted:function(){this.$validator.localize("en",this.dictionary)},methods:{sign_in:function(){var e,t,a=this;return regeneratorRuntime.async((function(n){while(1)switch(n.prev=n.next){case 0:if(this.username&&this.password){n.next=4;break}this.$validator.validateAll(),n.next=15;break;case 4:return e={username:this.username,password:this.password},t=function(e){return Object.keys(e).map((function(t){return encodeURIComponent(t)+"="+encodeURIComponent(e[t])})).join("&")},n.prev=6,n.next=9,regeneratorRuntime.awrap(this.axios.post("http://localhost:5000/staffs/signin",t(e),{headers:{"Content-type":"application/x-www-form-urlencoded"}}).then((function(e){e.data.success?(localStorage.setItem("tsic_token",e.data.data.token),a.$router.push("/profile")):window.alert(e.data.message)})).catch((function(e){console.log(e)})));case 9:return n.abrupt("return",n.sent);case 12:n.prev=12,n.t0=n["catch"](6),console.error(n.t0);case 15:case"end":return n.stop()}}),null,this,[[6,12]])},clear:function(){this.username="",this.password="",this.$validator.reset()}}},c=o,l=(a("8ef6"),a("2877")),u=a("6544"),d=a.n(u),p=a("8336"),f=a("8654"),m=Object(l["a"])(c,n,s,!1,null,"52c584ec",null);t["default"]=m.exports;d()(m,{VBtn:p["a"],VTextField:f["a"]})}}]);
//# sourceMappingURL=chunk-0b9bcebd.b5174bda.js.map